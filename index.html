<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GVG Genetics | Thoroughbred Racing & Breeding</title>
    <link rel="icon" type="image/png" href="gvg-silks-transparent.png">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #C9A227;
            --gold-light: #D4AF37;
            --gold-dark: #A68A1F;
            --black: #0a0a0a;
            --black-light: #1a1a1a;
            --black-card: #141414;
            --white: #ffffff;
            --white-off: #f5f5f5;
            --gray: #888888;
            --gray-dark: #444444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Raleway', sans-serif;
            background-color: var(--black);
            color: var(--white);
            line-height: 1.6;
        }

        /* Header */
        header {
            background: linear-gradient(180deg, var(--black) 0%, var(--black-light) 100%);
            padding: 2rem 0;
            border-bottom: 1px solid var(--gold-dark);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .logo {
            width: 100px;
            height: auto;
            object-fit: contain;
        }

        .brand-text h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 600;
            color: var(--gold);
            letter-spacing: 3px;
        }

        .brand-text p {
            font-size: 0.85rem;
            color: var(--gray);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        nav {
            display: flex;
            gap: 2rem;
        }

        nav a {
            color: var(--white);
            text-decoration: none;
            font-size: 0.9rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: color 0.3s ease;
            padding-bottom: 0.25rem;
            border-bottom: 2px solid transparent;
        }

        nav a:hover, nav a.active {
            color: var(--gold);
            border-bottom-color: var(--gold);
        }

        nav a.nav-social {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            border: none;
            margin-left: 0.5rem;
        }

        nav a.nav-social svg {
            width: 20px;
            height: 20px;
            fill: var(--white);
            transition: fill 0.3s ease, transform 0.3s ease;
        }

        nav a.nav-social:hover svg {
            fill: var(--gold);
            transform: scale(1.15);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--black) 0%, var(--black-light) 50%, var(--black) 100%);
            padding: 4rem 2rem;
            text-align: center;
            border-bottom: 1px solid var(--gold-dark);
        }

        .hero h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 1rem;
            font-weight: 400;
        }

        .hero p {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 4rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--gray-dark);
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--gold);
            font-weight: 600;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Main Content */
        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        section {
            margin-bottom: 4rem;
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--gray-dark);
        }

        .section-header h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--white);
            font-weight: 500;
        }

        .section-header .count {
            margin-left: 1rem;
            background: var(--gold);
            color: var(--black);
            font-size: 0.8rem;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 600;
        }

        /* Horse Grid */
        .horse-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        /* Horse Card */
        .horse-card {
            background: var(--black-card);
            border: 1px solid var(--gray-dark);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .horse-card:hover {
            border-color: var(--gold);
            transform: translateY(-4px);
            box-shadow: 0 10px 40px rgba(201, 162, 39, 0.15);
        }

        .card-image {
            background: linear-gradient(135deg, var(--black-light) 0%, var(--gray-dark) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .card-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .placeholder-silhouette {
            width: 120px;
            height: 80px;
            opacity: 0.3;
        }

        .card-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--gold);
            color: var(--black);
            font-size: 0.7rem;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card-content {
            padding: 1.5rem;
        }

        .horse-name {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }

        .horse-subtitle {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        .info-item {
            font-size: 0.85rem;
        }

        .info-label {
            color: var(--gray);
            display: block;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.15rem;
        }

        .info-value {
            color: var(--white);
            font-weight: 500;
        }

        .info-value.highlight {
            color: var(--gold);
        }

        .racing-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: linear-gradient(135deg, rgba(201, 162, 39, 0.1) 0%, rgba(201, 162, 39, 0.05) 100%);
            border-radius: 6px;
            margin-bottom: 1rem;
            border: 1px solid rgba(201, 162, 39, 0.2);
        }

        .stat-record {
            color: var(--white);
            font-size: 0.85rem;
            font-weight: 500;
        }

        .stat-earnings {
            color: var(--gold);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .card-badge.achievement {
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: var(--black);
        }

        .achievement-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: var(--black);
            font-size: 0.7rem;
            padding: 0.35rem 0.75rem;
            border-radius: 4px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.35rem;
            margin-right: 0.35rem;
            box-shadow: 0 2px 4px rgba(201, 162, 39, 0.3);
        }

        .achievement-badge.champion {
            background: linear-gradient(135deg, #722F37 0%, #4a1f24 100%);
            color: var(--gold);
            box-shadow: 0 2px 4px rgba(114, 47, 55, 0.4);
        }

        .card-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--gray-dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .view-details {
            font-size: 0.8rem;
            color: var(--gold);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.3s ease;
        }

        .view-details:hover {
            color: var(--gold-light);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
            padding: 2rem;
        }

        .modal-overlay.active {
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .modal {
            background: var(--black-card);
            border: 1px solid var(--gold-dark);
            border-radius: 12px;
            max-width: 900px;
            width: 100%;
            margin: 2rem auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
            z-index: 10;
        }

        .modal-close:hover {
            color: var(--gold);
        }

        .modal-header {
            padding: 2rem;
            border-bottom: 1px solid var(--gray-dark);
            display: flex;
            gap: 2rem;
        }

        .modal-image {
            width: 250px;
            height: 180px;
            background: linear-gradient(135deg, var(--black-light) 0%, var(--gray-dark) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            overflow: hidden;
            position: relative;
        }

        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .modal-image img:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.3);
        }

        .image-gallery {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .image-gallery img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-gallery img.active {
            opacity: 1;
        }

        .gallery-nav {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
            z-index: 10;
        }

        .gallery-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .gallery-dot.active {
            background: var(--gold);
        }

        .gallery-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            z-index: 10;
            transition: background 0.3s ease;
        }

        .gallery-arrow:hover {
            background: rgba(0,0,0,0.8);
        }

        .gallery-arrow.prev {
            left: 5px;
        }

        .gallery-arrow.next {
            right: 5px;
        }

        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
        }

        .gallery-thumb {
            aspect-ratio: 4/3;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .gallery-thumb:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.3);
        }

        .gallery-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .lightbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .lightbox-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .lightbox-overlay img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 3rem;
            color: white;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .lightbox-close:hover {
            color: var(--gold);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3rem;
            color: white;
            cursor: pointer;
            padding: 1rem;
            transition: color 0.3s ease, transform 0.3s ease;
            user-select: none;
        }

        .lightbox-nav:hover {
            color: var(--gold);
            transform: translateY(-50%) scale(1.1);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 0.9rem;
            letter-spacing: 2px;
        }

        .modal-title-section {
            flex: 1;
        }

        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }

        .modal-subtitle {
            color: var(--gray);
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .modal-badges {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .modal-badge {
            background: var(--gold);
            color: var(--black);
            font-size: 0.7rem;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .modal-badge.secondary {
            background: var(--gray-dark);
            color: var(--white);
        }

        a.modal-badge.truenicks-badge {
            text-decoration: none;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        a.modal-badge.truenicks-badge:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(201, 162, 39, 0.4);
        }

        .truenicks-icon {
            display: inline-block;
            background: var(--black);
            color: var(--gold);
            font-size: 0.6rem;
            padding: 0.1rem 0.3rem;
            border-radius: 3px;
            margin-left: 0.4rem;
            font-weight: 700;
        }

        .view-pedigree-btn {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: var(--black);
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .view-pedigree-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.4);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-section {
            margin-bottom: 2rem;
        }

        .modal-section:last-child {
            margin-bottom: 0;
        }

        .modal-section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            color: var(--gold);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--gray-dark);
        }

        .pedigree-table {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .pedigree-item {
            background: var(--black-light);
            padding: 1rem;
            border-radius: 6px;
            border-left: 3px solid var(--gold);
        }

        .pedigree-label {
            font-size: 0.7rem;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.25rem;
        }

        .pedigree-value {
            font-size: 1rem;
            color: var(--white);
            font-weight: 500;
        }

        .pedigree-note {
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 0.25rem;
        }

        .breeding-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .breeding-card {
            background: var(--black-light);
            padding: 1.25rem;
            border-radius: 6px;
            text-align: center;
        }

        .breeding-card h5 {
            font-size: 0.7rem;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .breeding-card .stallion {
            font-size: 1.1rem;
            color: var(--gold);
            font-weight: 600;
        }

        .stallion-link {
            color: var(--gold);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .stallion-link:hover {
            color: var(--gold-light);
            text-decoration: underline;
        }

        .breeding-card .farm {
            font-size: 0.85rem;
            color: var(--gray);
            margin-top: 0.25rem;
        }

        .news-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* Race Record Table */
        .race-record-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .race-record-table th {
            background: var(--black);
            color: var(--gold);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.7rem;
            letter-spacing: 1px;
            padding: 0.75rem 0.5rem;
            text-align: center;
            border-bottom: 1px solid var(--gold-dark);
        }

        .race-record-table th:first-child {
            text-align: left;
            padding-left: 1rem;
        }

        .race-record-table td {
            padding: 0.75rem 0.5rem;
            text-align: center;
            border-bottom: 1px solid var(--gray-dark);
            color: var(--white-off);
        }

        .race-record-table td:first-child {
            text-align: left;
            padding-left: 1rem;
            color: var(--gray);
        }

        .race-record-table tr:hover td {
            background: var(--black-light);
        }

        .race-record-table tr.totals-row td {
            font-weight: 600;
            color: var(--gold);
            border-top: 2px solid var(--gold-dark);
            border-bottom: none;
            background: var(--black);
        }

        .race-record-table tr.totals-row td:first-child {
            color: var(--gold);
        }

        .race-record-table .stakes-indicator {
            font-size: 0.75rem;
            color: var(--gold);
        }

        .news-item {
            background: var(--black-light);
            padding: 1rem 1.25rem;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .news-item:hover {
            background: var(--gray-dark);
        }

        .news-item a {
            color: var(--gold);
            text-decoration: none;
            font-weight: 500;
        }

        .news-date {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .empty-news {
            color: var(--gray);
            font-style: italic;
            padding: 1rem;
            text-align: center;
        }

        /* Footer */
        footer {
            background: var(--black-light);
            border-top: 1px solid var(--gold-dark);
            padding: 3rem 2rem;
            text-align: center;
        }

        .footer-branding {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .footer-logo {
            width: 80px;
            height: auto;
            object-fit: contain;
        }

        .footer-silks {
            width: 90px;
            height: auto;
            object-fit: contain;
        }

        footer h4 {
            font-family: 'Playfair Display', serif;
            color: var(--gold);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        footer p {
            color: var(--gray);
            font-size: 0.85rem;
        }

        .footer-divider {
            width: 60px;
            height: 1px;
            background: var(--gold-dark);
            margin: 1.5rem auto;
        }

        .social-links {
            margin: 1.5rem 0;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border: 1px solid var(--gold-dark);
            border-radius: 50%;
            color: var(--gold);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: var(--gold);
            color: var(--black);
            transform: scale(1.1);
        }

        .social-links svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        .updated {
            font-size: 0.75rem;
            color: var(--gray-dark);
        }

        /* Contact Form */
        .contact-section {
            background: var(--black-light);
            padding: 4rem 2rem;
            text-align: center;
        }

        .contact-section h3 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--white);
            margin-bottom: 0.5rem;
        }

        .contact-section .subtitle {
            color: var(--gray);
            margin-bottom: 2rem;
        }

        .contact-form {
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.25rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            color: var(--gold);
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            background: var(--gray-dark);
            border: 1px solid transparent;
            border-radius: 4px;
            color: var(--white);
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.2s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--gold);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: var(--black);
            border: none;
            padding: 1rem 2.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.3);
        }

        .form-success {
            display: none;
            color: var(--gold);
            padding: 1rem;
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1.5rem;
            }

            nav {
                gap: 1rem;
            }

            .stats-bar {
                gap: 2rem;
            }

            .horse-grid {
                grid-template-columns: 1fr;
            }

            .modal-header {
                flex-direction: column;
            }

            .modal-image {
                width: 100%;
            }

            .pedigree-table, .breeding-info {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<header>
    <div class="header-content">
        <div class="logo-section">
<img src="gvg-silks-transparent.png" alt="GVG Genetics" class="logo">
            <div class="brand-text">
                <h1>GVG GENETICS</h1>
                <p>Thoroughbred Excellence</p>
            </div>
        </div>
        <nav>
            <a href="#racing" class="active">Racing</a>
            <a href="#broodmares">Broodmares</a>
            <a href="#foals">Foals</a>
            <a href="#contact">Contact</a>
            <a href="https://x.com/GVG_Genetics" target="_blank" class="nav-social" title="Follow us on X">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
            </a>
        </nav>
    </div>
</header>

<section class="hero">
    <h2>Building Tomorrow's Champions</h2>
    <p>A boutique thoroughbred operation focused on pedigree, conformation, and the pursuit of excellence in American racing.</p>
    <div class="stats-bar">
        <div class="stat">
            <div class="stat-number" id="stat-racing">4</div>
            <div class="stat-label">Racing Prospects</div>
        </div>
        <div class="stat">
            <div class="stat-number" id="stat-broodmares">16</div>
            <div class="stat-label">Broodmares</div>
        </div>
        <div class="stat">
            <div class="stat-number" id="stat-foals">3</div>
            <div class="stat-label">2025 Foals</div>
        </div>
    </div>
</section>

<main>
    <!-- Racing Age Section -->
    <section id="racing">
        <div class="section-header">
            <h3>Racing Prospects</h3>
            <span class="count" id="count-racing">4</span>
        </div>
        <div class="horse-grid" id="racing-grid">
            <!-- Cards populated by JS -->
        </div>
    </section>

    <!-- Broodmares Section -->
    <section id="broodmares">
        <div class="section-header">
            <h3>Broodmares</h3>
            <span class="count" id="count-broodmares">16</span>
        </div>
        <div class="horse-grid" id="broodmare-grid">
            <!-- Cards populated by JS -->
        </div>
    </section>

    <!-- Foals Section -->
    <section id="foals">
        <div class="section-header">
            <h3>2025 Foals</h3>
            <span class="count" id="count-foals">3</span>
        </div>
        <div class="horse-grid" id="foal-grid">
            <!-- Cards populated by JS -->
        </div>
    </section>
</main>

<!-- Contact Section -->
<section class="contact-section" id="contact">
    <h3>Get In Touch</h3>
    <p class="subtitle">Interested in our horses? We'd love to hear from you.</p>
    <form class="contact-form" id="contactForm" action="https://formsubmit.co/graham.gochneaur@gmail.com" method="POST">
        <input type="hidden" name="_subject" value="GVG Genetics Website Inquiry">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_next" value="">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" required placeholder="Your name">
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required placeholder="your@email.com">
        </div>
        <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" required placeholder="How can we help you?"></textarea>
        </div>
        <button type="submit" class="submit-btn">Send Message</button>
    </form>
    <div class="form-success" id="formSuccess">Thank you! Your message has been sent.</div>
</section>

<footer>
    <img src="gvg-silks-transparent.png" alt="GVG Silks" class="footer-silks">
    <h4>GVG Genetics LLC</h4>
    <p>Lexington, Kentucky</p>
    <div class="social-links">
        <a href="https://x.com/GVG_Genetics" target="_blank" title="Follow us on X">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
        </a>
    </div>
    <div class="footer-divider"></div>
    <p class="updated">Last updated: January 2026</p>
</footer>

<!-- Modal -->
<div class="modal-overlay" id="modal">
    <div class="modal">
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <div class="modal-header">
            <div class="modal-image" id="modal-image-container">
                <svg class="placeholder-silhouette" viewBox="0 0 120 80">
                    <path d="M10 70 Q30 20 50 40 Q60 50 70 35 Q90 10 110 50 L110 70 Z" fill="#444"/>
                </svg>
            </div>
            <div class="modal-title-section">
                <h2 class="modal-title" id="modal-name">Horse Name</h2>
                <p class="modal-subtitle" id="modal-subtitle">By SIRE out of DAM</p>
                <div class="modal-badges" id="modal-badges"></div>
            </div>
        </div>
        <div class="modal-body" id="modal-body">
            <!-- Dynamic content -->
        </div>
    </div>
</div>

<!-- Lightbox for gallery images -->
<div class="lightbox-overlay" id="lightbox" onclick="closeLightbox(event)">
    <span class="lightbox-close" onclick="closeLightbox(event)">&times;</span>
    <span class="lightbox-nav lightbox-prev" onclick="navigateLightbox(event, -1)">&#10094;</span>
    <img id="lightbox-img" src="" alt="Gallery Image" onclick="event.stopPropagation()">
    <span class="lightbox-nav lightbox-next" onclick="navigateLightbox(event, 1)">&#10095;</span>
    <div class="lightbox-counter" id="lightbox-counter"></div>
</div>

<script>
// ============================================
// HORSE DATA - Edit this section to update horses
// ============================================

const racingHorses = [
    {
        name: "Vajra",
        sire: "Vekoma",
        dam: "Lady Hansen",
        damSire: "Hansen",
        birthdate: "April 8, 2023",
        location: "Sandhurst Thoroughbreds",
        trainer: "Rodolphe Brisset",
        percentOwned: 100,
        partners: null,
        pedigreeImage: "pedigree-vajra.pdf",
        status: "In Training",
        racingRecord: {starts: 3, wins: 0, places: 1, shows: 0},
        earnings: 27600,
        raceHistory: [
            {age: 2, starts: 3, wins: 0, seconds: 1, thirds: 0, earned: 27600}
        ],
        achievement: null,
        pedigreeNotes: "By Vekoma, Champion Sprinter and Breeders' Cup Sprint winner. Dam by Hansen with Tapit influence. Speed on speed pedigree with stamina underneath.",
        news: [],
        image: "vajra.jpg"
    },
    {
        name: "Tiyara",
        sire: "American Pharoah",
        dam: "Camila Princess",
        damSire: "Animal Kingdom",
        birthdate: "March 24, 2023",
        location: "Sandhurst Thoroughbreds",
        trainer: "Michael McCarthy",
        percentOwned: 100,
        partners: null,
        pedigreeImage: "pedigree-tiyara.pdf",
        status: "In Training",
        racingRecord: {starts: 1, wins: 1, places: 0, shows: 0},
        earnings: 21000,
        raceHistory: [
            {age: 2, starts: 1, wins: 1, seconds: 0, thirds: 0, earned: 21000}
        ],
        achievement: "Winner on Debut",
        pedigreeNotes: "By Triple Crown winner American Pharoah. Dam by Kentucky Derby winner Animal Kingdom. Classic pedigree built for two turns and beyond.",
        news: [],
        image: "tiyara.jpg"
    },
    {
        name: "Psychadelacized '24",
        sire: "Upstart",
        dam: "Psychadelacized",
        damSire: "Distorted Humor",
        birthdate: "May 1, 2024",
        location: "Kinsman Farm",
        trainer: "TBD",
        percentOwned: 75,
        partners: "Airdrie Stud",
        pedigreeLink: null,
        status: "2YO In Training",
        racingRecord: null,
        earnings: 0,
        achievement: null,
        pedigreeNotes: "By Upstart, sire of champion Zandon. Partnership with Airdrie Stud.",
        news: [],
        image: "UPLOAD-psychadelacized-24.jpg",
        pedigreeImage: "pedigree-psychadelacized-24.pdf"
    }
];

const broodmares = [
    {
        name: "Panamama",
        sire: "Mendelssohn",
        dam: "Panama Hattie",
        damSire: "Uncle Mo",
        birthdate: "March 5, 2023",
        location: "Denali Stud",
        percentOwned: 33.33,
        partners: "Adelphi, Rocco",
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "TBD",
        nextMatingFarm: null,
        racingRecord: null,
        earnings: 0,
        achievement: null,
        pedigreeImage: "pedigree-panamama.pdf",
        pedigreeNotes: "By Mendelssohn (Into Mischief), winner of the UAE Derby-G2. Dam is a half-sister to multiple stakes winners. Strong Uncle Mo influence on the bottom side. Retired from racing.",
        news: [],
        image: "UPLOAD-panamama.jpg"
    },
    {
        name: "Nubility",
        sire: "Violence",
        dam: "Wide Range",
        damSire: "Mineshaft",
        birthdate: "March 27, 2020",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        inFoalTo: "Twirling Candy",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/119328/twirling-candy",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=7998833&mareReferenceNumber=10784882&mareName=Nubility",
        inFoalFarm: "Lane's End",
        nextMating: "Upstart",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/169546/upstart",
        nextMatingFarm: "Airdrie",
        racingRecord: {starts: 9, wins: 2, places: 2, shows: 0},
        earnings: 55716,
        raceHistory: [
            {age: 3, starts: 9, wins: 2, seconds: 2, thirds: 0, earned: 55716}
        ],
        achievement: null,
        pedigreeImage: "pedigree-nubility.pdf",
        pedigreeNotes: "By Violence out of a Mineshaft mare. Dam of dam by Twirling Candy (Lane's End). A blend of speed and stamina.",
        news: [],
        image: "UPLOAD-nubility-new.jpg"
    },
    {
        name: "The Easel Queen",
        sire: "Munnings",
        dam: "Filia",
        damSire: "Fastnet Rock (AUS)",
        birthdate: "April 1, 2021",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        inFoalTo: "Oscar Performance",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/170569/oscar-performance",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=9694239&mareReferenceNumber=10962963&mareName=The%20Easel%20Queen",
        inFoalFarm: "Mill Ridge",
        nextMating: "Liam's Map",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/169094/liams-map",
        nextMatingFarm: "Lane's End",
        racingRecord: null,
        earnings: 0,
        achievement: null,
        pedigreeImage: "pedigree-the-easel-queen.pdf",
        pedigreeNotes: "By champion sprinter Munnings. Dam by Australian champion Fastnet Rock adds international pedigree depth. Haplogroup L - a rare and valuable maternal line.",
        news: [],
        image: "the-easel-queen.jpg"
    },
    {
        name: "Cuff",
        sire: "Galileo (IRE)",
        dam: "Massarra",
        damSire: "Danehill",
        birthdate: "February 8, 2014",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        inFoalTo: "Justify",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/170550/justify",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=9896728&mareReferenceNumber=9789549&mareName=Cuff%20(IRE)",
        inFoalFarm: "Coolmore",
        nextMating: "Not This Time",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/169586/not-this-time",
        nextMatingFarm: "Taylor Made",
        racingRecord: {starts: 4, wins: 2, places: 0, shows: 0},
        earnings: 57225,
        raceHistory: [
            {age: 2, starts: 4, wins: 2, seconds: 0, thirds: 0, sw: 1, earned: 57225}
        ],
        achievement: ["Stakes Winner", "Irish Juv. Sprint Stakes Champion"],
        pedigreeImage: "pedigree-cuff.pdf",
        pedigreeNotes: "By the legendary Galileo, the most dominant sire in European racing history. Dam by Danehill. Trained by Aidan O'Brien. Royal pedigree with classic European influences. An exceptional foundation mare.",
        news: [{title: "Galileo filly Cuff heading to Ascot", url: "https://web.archive.org/web/20191118023611/https://coolmore.com/farms/ireland/news/galileo-filly-cuff-heading-ascot", date: "2016"}, {title: "Influence of Eljazzi remains strong in Prince Faisal's boutique broodmare band", url: "https://theownerbreeder.com/stories/influence-of-eljazzi-remains-strong-in-prince-faisals-boutique-broodmare-band/", date: ""}, {title: "Coolmore Colt Takes Lead in Euro Road to KY Derby", url: "https://www.bloodhorse.com/horse-racing/articles/266962/coolmore-colt-takes-lead-in-euro-road-to-ky-derby", date: ""}, {title: "Galileo's Cuff Graduates at Naas", url: "https://www.thoroughbreddailynews.com/galileos-cuff-graduates-at-naas/", date: ""}],
        image: "cuff.jpg",
        gallery: ["Cuff Winners Circle.png", "Cuff Heading to Ascot.jpeg", "Cuff Winning Stakes.jpeg", "Cuff Naas.jpeg"]
    },
    {
        name: "Bru Na Boinne",
        sire: "Arrogate",
        dam: "Mr Hall's Opus",
        damSire: "Officer",
        birthdate: "March 16, 2020",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "Army Mule",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/170575/army-mule",
        nextMatingFarm: "Hill N' Dale",
        racingRecord: {starts: 17, wins: 5, places: 3, shows: 2},
        earnings: 405226,
        raceHistory: [
            {age: 2, starts: 3, wins: 1, seconds: 0, thirds: 1, earned: 48000},
            {age: 3, starts: 6, wins: 1, seconds: 3, thirds: 1, earned: 138690},
            {age: 4, starts: 5, wins: 2, seconds: 0, thirds: 0, sw: 1, earned: 138586},
            {age: 5, starts: 3, wins: 1, seconds: 0, thirds: 0, earned: 79950}
        ],
        achievement: ["Stakes Winner", "Over $400K in Earnings"],
        pedigreeImage: "pedigree-bru-na-boinne.pdf",
        pedigreeNotes: "By Arrogate, one of the highest-rated racehorses in history and winner of the Breeders' Cup Classic, Dubai World Cup, and Pegasus World Cup.",
        news: [{title: "Bru Na Boinne Video", url: "https://www.facebook.com/watch/?v=1290783312002071", date: ""}],
        image: "bru-na-boinne.jpg",
        gallery: ["Bru Na Boinne Stakes Win.jpg"]
    },
    {
        name: "Malibeauty",
        sire: "Malibu Moon",
        dam: "Jaramar Rain",
        damSire: "Thunder Gulch",
        birthdate: "April 20, 2017",
        location: "River Valley Stock Farm",
        percentOwned: 100,
        partners: null,
        inFoalTo: "Oscar Performance",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/170569/oscar-performance",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=9694239&mareReferenceNumber=10280996&mareName=Malibeauty",
        inFoalFarm: "Mill Ridge",
        nextMating: "Citizen Bull",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/173298/citizen-bull",
        nextMatingFarm: "Ashford Stud",
        racingRecord: {starts: 5, wins: 2, places: 1, shows: 0},
        earnings: 49838,
        raceHistory: [
            {age: 3, starts: 5, wins: 2, seconds: 1, thirds: 0, earned: 49838}
        ],
        achievement: "Winner on Debut",
        pedigreeImage: "pedigree-malibeauty.pdf",
        pedigreeNotes: "By Malibu Moon, sire of Kentucky Derby winners and multiple G1 winners. Dam by Thunder Gulch adds stamina and class.",
        news: [{title: "Malibeauty Has Hudson Dreaming Again", url: "https://www.thoroughbreddailynews.com/malibeauty-has-hudson-dreaming-again/", date: ""}],
        image: "malibeauty.jpg"
    },
    {
        name: "Salute The Flag",
        sire: "Curlin",
        dam: "Private Ensign",
        damSire: "A.P. Indy",
        birthdate: "February 2, 2018",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        inFoalTo: "Epicenter",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/172407/epicenter",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=10575627&mareReferenceNumber=10403558&mareName=Salute%20the%20Flag",
        inFoalFarm: "Coolmore",
        nextMating: "Vekoma",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/171624/vekoma",
        nextMatingFarm: "Spendthrift",
        racingRecord: {starts: 8, wins: 2, places: 2, shows: 1},
        earnings: 187020,
        raceHistory: [
            {age: 3, starts: 2, wins: 0, seconds: 0, thirds: 1, earned: 12280},
            {age: 4, starts: 6, wins: 2, seconds: 2, thirds: 0, earned: 174740}
        ],
        achievement: "Over $185K in Earnings",
        pedigreeImage: "pedigree-salute-the-flag.pdf",
        pedigreeNotes: "By Curlin, a two-time Horse of the Year. Dam by A.P. Indy, one of the most influential sires in American racing. Blue-blood pedigree top and bottom.",
        news: [{title: "Insight Outcomes: Maracuja, Mendenhall & More Hint at Bright 2022", url: "https://www.thoroughbreddailynews.com/insight-outcomes-maracuja-mendenhall-more-hint-at-bright-2022/", date: "2022"}],
        image: "salute-the-flag.jpg",
        gallery: ["Salute The Flag Pasture.jpg", "Salute The Flag as a foal.jpg", "Salute The Flag as a foal 2.jpg", "Salute The Flag Headshot.jpg", "Salute The Flag Maiden Win.jpg"]
    },
    {
        name: "Jack's Magic Girl",
        sire: "Good Magic",
        dam: "Stargirl",
        damSire: "Medaglia d'Oro",
        birthdate: "January 30, 2022",
        location: "Small Batch TB",
        percentOwned: 25,
        partners: "Jason Hall",
        inFoalTo: "Heartland",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/172929/heartland",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=10968433&mareReferenceNumber=11089403&mareName=Jack%27s%20Magic%20Girl",
        inFoalFarm: "WinStar",
        nextMating: "Yaupon",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/171995/yaupon",
        nextMatingFarm: "Spendthrift",
        racingRecord: {starts: 3, wins: 1, places: 0, shows: 0},
        earnings: 63500,
        raceHistory: [
            {age: 2, starts: 3, wins: 1, seconds: 0, thirds: 0, earned: 63500}
        ],
        achievement: "TDN Rising Star",
        pedigreeImage: "pedigree-jacks-magic-girl.pdf",
        pedigreeNotes: "By Good Magic, Breeders' Cup Juvenile winner. Dam by Medaglia d'Oro brings stamina and class.",
        news: [{title: "TDN Rising Star: Jack's Magic Girl", url: "https://www.thoroughbreddailynews.com/risingstars/jacks-magic-girl/", date: ""}, {title: "Jack's Magic Girl wins race 1 at Del Mar 8/3/24", url: "https://www.youtube.com/watch?v=1EfKHhp07-4", date: "2024"}],
        image: "jacks-magic-girl.jpg",
        gallery: ["jacks-magic-girl-2.jpg"]
    },
    {
        name: "Toeris",
        sire: "Tourist",
        dam: "Sutil",
        damSire: "Redattore",
        birthdate: "February 26, 2019",
        location: "Small Batch TB",
        percentOwned: 25,
        partners: "Jason Hall",
        inFoalTo: "Heartland",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/172929/heartland",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=10968433&mareReferenceNumber=10588423&mareName=Toeris",
        inFoalFarm: "WinStar",
        nextMating: null,
        nextMatingFarm: null,
        racingRecord: {starts: 17, wins: 3, places: 2, shows: 4},
        earnings: 166430,
        raceHistory: [
            {age: 2, starts: 4, wins: 1, seconds: 0, thirds: 2, earned: 61200},
            {age: 3, starts: 3, wins: 1, seconds: 0, thirds: 1, earned: 50675},
            {age: 4, starts: 6, wins: 0, seconds: 2, thirds: 1, sp2: 1, earned: 32809},
            {age: 5, starts: 4, wins: 1, seconds: 0, thirds: 0, earned: 21746}
        ],
        achievement: ["Graded Stakes Placed", "Over $165K in Earnings"],
        pedigreeNotes: "By Tourist, winner of the Breeders' Cup Mile. South American female line adds genetic diversity.",
        news: [{title: "Embracing Digital Sales: Team Valor Has Two on Offer at Fasig-Tipton January Digital", url: "https://www.thoroughbreddailynews.com/embracing-digital-sales-team-valor-has-two-on-offer-at-fasig-tipton-january-digital/", date: ""}],
        image: "toeris.jpg",
        pedigreeImage: "pedigree-toeris.pdf"
    },
    {
        name: "Lil Super Bear",
        sire: "Super Saver",
        dam: "Coli Bear",
        damSire: "Formal Dinner",
        birthdate: "February 13, 2012",
        location: "Small Batch TB",
        percentOwned: 25,
        partners: "Jason Hall",
        inFoalTo: "Hard Spun",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/130025/hard-spun",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=7187963&mareReferenceNumber=9280763&mareName=Lil%20Super%20Bear",
        inFoalFarm: "Darley",
        nextMating: "Jackie's Warrior",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/172304/jackies-warrior",
        nextMatingFarm: "Spendthrift",
        racingRecord: {starts: 10, wins: 2, places: 0, shows: 0},
        earnings: 60308,
        raceHistory: [
            {age: 2, starts: 5, wins: 2, seconds: 0, thirds: 0, sw: 1, earned: 54482},
            {age: 3, starts: 3, wins: 0, seconds: 0, thirds: 0, earned: 5268},
            {age: 4, starts: 2, wins: 0, seconds: 0, thirds: 0, earned: 558}
        ],
        achievement: "Stakes Winner",
        pedigreeNotes: "By Kentucky Derby winner Super Saver. Stakes winner. A proven producer with a deep pedigree.",
        news: [],
        image: "lil-super-bear.jpg",
        pedigreeImage: "pedigree-lil-super-bear.pdf",
        gallery: ["Lil Super Bear Stakes Win.jpg"]
    },
    {
        name: "Blind Pool",
        sire: "Awesome Again",
        dam: "Taboo",
        damSire: "Forestry",
        birthdate: "February 24, 2014",
        location: "Small Batch TB",
        percentOwned: 25,
        partners: "Jason Hall",
        inFoalTo: "Bolt d'Oro",
        inFoalToLink: "https://www.bloodhorse.com/stallion-register/stallions/170565/bolt-doro",
        truNicksLink: "https://www.truenicks.com/free-reports/hypothetical-mating/display?stallionReferenceNumber=9898625&mareReferenceNumber=9719334&mareName=Blind%20Pool",
        inFoalFarm: "Spendthrift",
        nextMating: "Cogburn",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/172962/cogburn",
        nextMatingFarm: "WinStar",
        racingRecord: {starts: 4, wins: 1, places: 0, shows: 0},
        earnings: 36100,
        raceHistory: [
            {age: 2, starts: 2, wins: 0, seconds: 0, thirds: 0, earned: 7900},
            {age: 3, starts: 2, wins: 1, seconds: 0, thirds: 0, earned: 28200}
        ],
        achievement: "Set Track Record - Gulfstream Park",
        pedigreeNotes: "By Awesome Again, sire of Breeders' Cup Classic winners. Solid American dirt pedigree.",
        news: [],
        image: "blind-pool.jpg",
        pedigreeImage: "pedigree-blind-pool.pdf",
        gallery: ["Blind Pool Maiden Win.jpg"]
    },
    {
        name: "Fly",
        sire: "Brilliant Speed",
        dam: "Desert Stormer",
        damSire: "Storm Cat",
        birthdate: "April 17, 2014",
        location: "Small Batch TB",
        percentOwned: 50,
        partners: "Jason Hall",
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "City of Light",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/170513/city-of-light",
        nextMatingFarm: "Lane's End",
        racingRecord: {starts: 17, wins: 2, places: 4, shows: 2},
        earnings: 117805,
        raceHistory: [
            {age: 2, starts: 4, wins: 1, seconds: 1, thirds: 0, earned: 42120},
            {age: 3, starts: 1, wins: 1, seconds: 0, thirds: 0, earned: 23940},
            {age: 4, starts: 7, wins: 0, seconds: 1, thirds: 0, earned: 29360},
            {age: 5, starts: 3, wins: 0, seconds: 2, thirds: 1, earned: 17310},
            {age: 6, starts: 2, wins: 0, seconds: 0, thirds: 1, earned: 5075}
        ],
        achievement: "Over $115K in Earnings",
        pedigreeImage: "pedigree-fly.pdf",
        pedigreeNotes: "By Brilliant Speed. Dam Desert Stormer by Storm Cat. First winner for her sire Brilliant Speed.",
        news: [{title: "Fly Soars Home for Ill-Fated Brilliant Speed", url: "https://www.bloodhorse.com/horse-racing/articles/213954/fly-soars-home-for-ill-fated-brilliant-speed", date: "2017"}, {title: "Ill-Fated Brilliant Speed Gets First Winner", url: "https://www.bloodhorse.com/horse-racing/articles/213950/ill-fated-brilliant-speed-gets-first-winner", date: "2017"}],
        image: "fly-cropped.png"
    },
    {
        name: "Lead Guitar",
        sire: "Maclean's Music",
        dam: "Eleadora",
        damSire: "Finality",
        birthdate: "March 7, 2016",
        location: "Small Batch TB",
        percentOwned: 50,
        partners: "Jason Hall",
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "Army Mule",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/170575/army-mule",
        nextMatingFarm: "Hill N' Dale",
        racingRecord: {starts: 14, wins: 6, places: 3, shows: 1},
        earnings: 316680,
        raceHistory: [
            {age: 3, starts: 4, wins: 1, seconds: 2, thirds: 1, earned: 79400},
            {age: 4, starts: 7, wins: 5, seconds: 0, thirds: 0, sw: 2, earned: 211278},
            {age: 5, starts: 3, wins: 0, seconds: 1, thirds: 0, earned: 26002}
        ],
        achievement: ["Multiple Stakes Winner", "2020 NY Champion Turf Female", "2020 NY Champion Female Sprinter", "Over $315K in Earnings"],
        pedigreeNotes: "By Maclean's Music, a proven sire of fast horses. Multiple stakes winner with $316K in earnings. 2020 New York-Bred Champion Turf Female and Champion Female Sprinter. Being bred to Army Mule for pure speed.",
        news: [{title: "Tiz the Law Voted New York-Bred Horse of the Year", url: "https://www.bloodhorse.com/horse-racing/articles/247261/tiz-the-law-voted-new-york-bred-horse-of-the-year", date: ""}, {title: "Windylea Farm Reaches New Heights on NYRA Circuit", url: "https://www.bloodhorse.com/horse-racing/articles/267496/windylea-farm-reaches-new-heights-on-nyra-circuit", date: ""}],
        image: "lead-guitar.jpg",
        gallery: ["Lead Guitar Stakes Win.jpg", "Lead Guitar Winning Stakes 2.jpg"],
        pedigreeImage: "pedigree-lead-guitar.pdf"
    },
    {
        name: "North Country Fair",
        sire: "Gleneagles (IRE)",
        dam: "Sandstone",
        damSire: "Dansili",
        birthdate: "February 2, 2018",
        location: "Small Batch TB",
        percentOwned: 50,
        partners: "Jason Hall",
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "Army Mule",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/170575/army-mule",
        nextMatingFarm: "Hill N' Dale",
        racingRecord: {starts: 2, wins: 0, places: 1, shows: 1},
        earnings: 12450,
        raceHistory: [
            {age: 3, starts: 2, wins: 0, seconds: 1, thirds: 1, earned: 12450}
        ],
        achievement: null,
        pedigreeNotes: "By Gleneagles, a European champion. Dam by Dansili adds turf influence. International pedigree.",
        news: [],
        image: "north-country-fair.jpg",
        pedigreeImage: "pedigree-north-country-fair.pdf"
    },
    {
        name: "A Thousand Reasons",
        sire: "Munnings",
        dam: "Overboard",
        damSire: "Stormy Atlantic",
        birthdate: "April 11, 2016",
        location: "Small Batch TB",
        percentOwned: 50,
        partners: "Jason Hall",
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "Army Mule",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/170575/army-mule",
        nextMatingFarm: "Hill N' Dale",
        racingRecord: {starts: 12, wins: 5, places: 0, shows: 1},
        earnings: 148247,
        raceHistory: [
            {age: 2, starts: 1, wins: 0, seconds: 0, thirds: 1, earned: 3850},
            {age: 3, starts: 4, wins: 3, seconds: 0, thirds: 0, sw: 1, earned: 68325},
            {age: 4, starts: 5, wins: 2, seconds: 0, thirds: 0, earned: 73632},
            {age: 5, starts: 2, wins: 0, seconds: 0, thirds: 0, earned: 2440}
        ],
        achievement: ["Stakes Winner", "Over $145K in Earnings"],
        pedigreeNotes: "By Munnings, champion sprinter and proven sire. Stakes winner with 5 wins and $148K in earnings. Dam by Stormy Atlantic adds more speed.",
        news: [{title: "Munnings' A Thousand Reasons Wins Orleans Stakes", url: "https://web.archive.org/web/20200813061242/https://coolmore.com/farms/america/news/munnings-a-thousand-reasons-wins-orleans-stakes", date: "2020"}, {title: "Jolie Olimpica, Magic Star post impressing wins in weekend horse racing", url: "https://www.upi.com/Sports_News/2020/01/13/Jolie-Olimpica-Magic-Star-post-impressing-wins-in-weekend-horse-racing/3681578891304/", date: "2020"}, {title: "A Thousand Reasons Dominates The Orleans Stakes - Tom Amoss Assistant Talks About The Talented Filly", url: "https://www.youtube.com/watch?v=JVq3xollYN8", date: ""}],
        image: "a-thousand-reasons.jpg",
        gallery: ["A Thousand Reasons Wins Orleans Stakes.jpg"],
        pedigreeImage: "pedigree-a-thousand-reasons.pdf"
    },
    {
        name: "Hot Cash",
        sire: "Ghostzapper",
        dam: "Collect the Cash",
        damSire: "Dynaformer",
        birthdate: "February 4, 2015",
        location: "Small Batch TB",
        percentOwned: 50,
        partners: "Jason Hall",
        inFoalTo: null,
        inFoalFarm: null,
        nextMating: "Golden Pal",
        nextMatingLink: "https://www.bloodhorse.com/stallion-register/stallions/172365/golden-pal",
        nextMatingFarm: "Ashford Stud",
        racingRecord: {starts: 13, wins: 3, places: 2, shows: 2},
        earnings: 210126,
        achievement: ["Graded Stakes Placed", "Multiple Stakes Placed", "Over $210K in Earnings"],
        raceHistory: [
            {age: 2, starts: 1, wins: 0, seconds: 0, thirds: 0, earned: 3750},
            {age: 3, starts: 10, wins: 2, seconds: 1, thirds: 2, sp3: 1, earned: 145216},
            {age: 4, starts: 2, wins: 1, seconds: 1, thirds: 0, sp2: 1, earned: 61160}
        ],
        pedigreeNotes: "By Ghostzapper, Horse of the Year. Dam by Dynaformer adds stamina. Being bred to sprinter Golden Pal.",
        news: [{title: "Hot Cash Leads Adena Springs Reduction at $575,000", url: "https://www.bloodhorse.com/horse-racing/articles/244675/hot-cash-leads-adena-springs-reduction-at-575-000", date: "2020"}],
        image: "hot-cash.jpg",
        pedigreeImage: "pedigree-hot-cash.pdf",
        gallery: ["Hot Cash Training.jpg", "Hot Cash Training 2.jpg"]
    }
];

const foals = [
    {
        name: "Cuff '25",
        sire: "Justify",
        dam: "Cuff",
        damSire: "Galileo (IRE)",
        birthdate: "April 7, 2025",
        sex: "Filly",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        pedigreeNotes: "By Triple Crown winner Justify out of a Galileo mare. This filly combines two of the most important sires of the modern era. Exceptionally bred.",
        news: [],
        image: null,
        pedigreeImage: "pedigree-cuff-25.pdf"
    },
    {
        name: "Nubility '25",
        sire: "Mage",
        dam: "Nubility",
        damSire: "Violence",
        birthdate: "February 13, 2025",
        sex: "Filly",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        pedigreeNotes: "By Kentucky Derby winner Mage out of a Violence mare. First foal from Nubility. Combines classic distance with speed.",
        news: [],
        image: null,
        pedigreeImage: "pedigree-nubility-25.pdf"
    },
    {
        name: "The Easel Queen '25",
        sire: "Up To The Mark",
        dam: "The Easel Queen",
        damSire: "Munnings",
        birthdate: "February 25, 2025",
        sex: "Filly",
        location: "Denali Stud",
        percentOwned: 100,
        partners: null,
        pedigreeNotes: "By Up To The Mark, a top turf horse. Dam by Munnings with Fastnet Rock influence. Could excel on turf.",
        news: [],
        image: null,
        pedigreeImage: "pedigree-the-easel-queen-25.pdf"
    }
];

// ============================================
// RENDERING FUNCTIONS
// ============================================

function createRacingCard(horse) {
    return `
        <div class="horse-card" onclick="openModal('racing', '${horse.name.replace(/'/g, "\\'")}')">
            <div class="card-image">
                ${horse.image
                    ? `<img src="${horse.image}" alt="${horse.name}">`
                    : `<svg class="placeholder-silhouette" viewBox="0 0 120 80">
                        <path d="M10 70 Q30 20 50 40 Q60 50 70 35 Q90 10 110 50 L110 70 Z" fill="#444"/>
                       </svg>`
                }
                <span class="card-badge">${horse.status}</span>
            </div>
            <div class="card-content">
                ${horse.achievement ? (Array.isArray(horse.achievement) ? horse.achievement.map(a => `<div class="achievement-badge${a.includes('Champion') ? ' champion' : ''}">${a}</div>`).join('') : `<div class="achievement-badge${horse.achievement.includes('Champion') ? ' champion' : ''}">${horse.achievement}</div>`) : ''}
                <h4 class="horse-name">${horse.name}</h4>
                <p class="horse-subtitle">By ${horse.sire.toUpperCase()} out of ${horse.dam}</p>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Born</span>
                        <span class="info-value">${horse.birthdate}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Dam Sire</span>
                        <span class="info-value">${horse.damSire}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Trainer</span>
                        <span class="info-value">${horse.trainer || 'TBD'}</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <span class="view-details">View Details </span>
            </div>
        </div>
    `;
}

function createBroodmareCard(mare) {
    return `
        <div class="horse-card" onclick="openModal('broodmare', '${mare.name.replace(/'/g, "\\'")}')">
            <div class="card-image">
                ${mare.image
                    ? `<img src="${mare.image}" alt="${mare.name}">`
                    : `<svg class="placeholder-silhouette" viewBox="0 0 120 80">
                        <path d="M10 70 Q30 20 50 40 Q60 50 70 35 Q90 10 110 50 L110 70 Z" fill="#444"/>
                       </svg>`
                }
                ${mare.inFoalTo ? `<span class="card-badge">In Foal</span>` : ''}
            </div>
            <div class="card-content">
                ${mare.achievement ? (Array.isArray(mare.achievement) ? mare.achievement.map(a => `<div class="achievement-badge${a.includes('Champion') ? ' champion' : ''}">${a}</div>`).join('') : `<div class="achievement-badge${mare.achievement.includes('Champion') ? ' champion' : ''}">${mare.achievement}</div>`) : ''}
                <h4 class="horse-name">${mare.name}</h4>
                <p class="horse-subtitle">By ${mare.sire.toUpperCase()} out of ${mare.dam}</p>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">In Foal To</span>
                        <span class="info-value ${mare.inFoalTo ? 'highlight' : ''}">${mare.inFoalTo || 'Open'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Next Mating</span>
                        <span class="info-value">${mare.nextMating || 'TBD'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Born</span>
                        <span class="info-value">${mare.birthdate}</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <span class="view-details">View Details </span>
            </div>
        </div>
    `;
}

function createFoalCard(foal) {
    return `
        <div class="horse-card" onclick="openModal('foal', '${foal.name.replace(/'/g, "\\'")}')">
            <div class="card-image">
                ${foal.image
                    ? `<img src="${foal.image}" alt="${foal.name}">`
                    : `<svg class="placeholder-silhouette" viewBox="0 0 120 80">
                        <path d="M20 65 Q35 30 50 45 Q55 50 60 42 Q75 25 95 55 L95 65 Z" fill="#444"/>
                       </svg>`
                }
                <span class="card-badge">${foal.sex}</span>
            </div>
            <div class="card-content">
                <h4 class="horse-name">${foal.name}</h4>
                <p class="horse-subtitle">By ${foal.sire.toUpperCase()} out of ${foal.dam}</p>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Born</span>
                        <span class="info-value">${foal.birthdate}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Dam Sire</span>
                        <span class="info-value">${foal.damSire}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Sex</span>
                        <span class="info-value">${foal.sex}</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <span class="view-details">View Details </span>
            </div>
        </div>
    `;
}

function openModal(type, name) {
    let horse;
    if (type === 'racing') {
        horse = racingHorses.find(h => h.name === name);
    } else if (type === 'broodmare') {
        horse = broodmares.find(h => h.name === name);
    } else {
        horse = foals.find(h => h.name === name);
    }

    if (!horse) return;

    document.getElementById('modal-name').textContent = horse.name;
    document.getElementById('modal-subtitle').textContent = `By ${horse.sire.toUpperCase()} out of ${horse.dam} (${horse.damSire})`;

    // Modal image - build full gallery array (main image + gallery images)
    const modalImageContainer = document.getElementById('modal-image-container');
    const fullGallery = horse.image ? [horse.image] : [];
    if (horse.gallery && horse.gallery.length > 0) {
        fullGallery.push(...horse.gallery);
    }
    // Store gallery globally for lightbox access
    window.currentHorseGallery = fullGallery;

    if (horse.image) {
        modalImageContainer.innerHTML = `<img src="${horse.image}" alt="${horse.name}" onclick="openLightbox('${horse.image}', window.currentHorseGallery)" title="Click to enlarge">`;
    } else {
        modalImageContainer.innerHTML = `<svg class="placeholder-silhouette" viewBox="0 0 120 80">
            <path d="M10 70 Q30 20 50 40 Q60 50 70 35 Q90 10 110 50 L110 70 Z" fill="#444"/>
        </svg>`;
    }

    // Badges
    const badgesHtml = [];
    if (type === 'racing') {
        badgesHtml.push(`<span class="modal-badge">${horse.status}</span>`);
    } else if (type === 'broodmare' && horse.inFoalTo) {
        if (horse.truNicksLink) {
            badgesHtml.push(`<a href="${horse.truNicksLink}" target="_blank" class="modal-badge truenicks-badge">In Foal to ${horse.inFoalTo} <span class="truenicks-icon">TN</span></a>`);
        } else {
            badgesHtml.push(`<span class="modal-badge">In Foal to ${horse.inFoalTo}</span>`);
        }
    } else if (type === 'foal') {
        badgesHtml.push(`<span class="modal-badge">${horse.sex}</span>`);
    }
    document.getElementById('modal-badges').innerHTML = badgesHtml.join('');

    // Body content
    let bodyHtml = '';

    // Pedigree section
    bodyHtml += `
        <div class="modal-section">
            <h4 class="modal-section-title">Pedigree</h4>
            <div class="pedigree-table">
                <div class="pedigree-item">
                    <div class="pedigree-label">Sire</div>
                    <div class="pedigree-value">${horse.sire}</div>
                </div>
                <div class="pedigree-item">
                    <div class="pedigree-label">Dam</div>
                    <div class="pedigree-value">${horse.dam}</div>
                    <div class="pedigree-note">by ${horse.damSire}</div>
                </div>
            </div>
            ${horse.pedigreeNotes ? `<p style="margin-top: 1rem; color: var(--gray); font-size: 0.9rem;">${horse.pedigreeNotes}</p>` : ''}
            ${horse.pedigreeImage ? `<a href="${horse.pedigreeImage}" target="_blank" class="view-pedigree-btn">View Full Pedigree </a>` : ''}
            ${horse.pedigreeLink && !horse.pedigreeImage ? `<a href="${horse.pedigreeLink}" target="_blank" class="view-pedigree-btn">View Full Pedigree </a>` : ''}
        </div>
    `;

    // Racing Record section (for horses that have raced)
    if (horse.racingRecord || horse.earnings > 0 || horse.raceHistory) {
        // Handle achievement as either string or array
        let achievementHtml = '';
        if (horse.achievement) {
            const achievements = Array.isArray(horse.achievement) ? horse.achievement : [horse.achievement];
            achievementHtml = `<div style="margin-bottom: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">${achievements.map(a => `<span class="modal-badge" style="background: linear-gradient(135deg, ${a.includes('Champion') ? '#722F37 0%, #4a1f24' : 'var(--gold) 0%, var(--gold-dark)'} 100%); color: ${a.includes('Champion') ? 'var(--gold)' : 'var(--black)'};">${a}</span>`).join('')}</div>`;
        }

        bodyHtml += `
            <div class="modal-section">
                <h4 class="modal-section-title">Racing Record</h4>
                ${achievementHtml}
        `;

        // If we have detailed race history, show the table
        if (horse.raceHistory && horse.raceHistory.length > 0) {
            let totalStarts = 0, totalWins = 0, totalSeconds = 0, totalThirds = 0, totalEarned = 0;
            let totalSW = 0, totalSP2 = 0, totalSP3 = 0;

            horse.raceHistory.forEach(year => {
                totalStarts += year.starts;
                totalWins += year.wins;
                totalSeconds += year.seconds;
                totalThirds += year.thirds;
                totalEarned += year.earned;
                totalSW += year.sw || 0;
                totalSP2 += year.sp2 || 0;
                totalSP3 += year.sp3 || 0;
            });

            bodyHtml += `
                <table class="race-record-table">
                    <thead>
                        <tr>
                            <th>Age</th>
                            <th>Starts</th>
                            <th>1st</th>
                            <th>2nd</th>
                            <th>3rd</th>
                            <th>Earned</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${horse.raceHistory.map(year => `
                            <tr>
                                <td>${year.age}</td>
                                <td>${year.starts}</td>
                                <td>${year.wins}${year.sw ? ` <span class="stakes-indicator">(${year.sw}SW)</span>` : ''}</td>
                                <td>${year.seconds}${year.sp2 ? ` <span class="stakes-indicator">(${year.sp2}SP)</span>` : ''}</td>
                                <td>${year.thirds}${year.sp3 ? ` <span class="stakes-indicator">(${year.sp3}SP)</span>` : ''}</td>
                                <td>$${year.earned.toLocaleString()}</td>
                            </tr>
                        `).join('')}
                        <tr class="totals-row">
                            <td>Totals</td>
                            <td>${totalStarts}</td>
                            <td>${totalWins}${totalSW ? ` <span class="stakes-indicator">(${totalSW}SW)</span>` : ''}</td>
                            <td>${totalSeconds}${totalSP2 ? ` <span class="stakes-indicator">(${totalSP2}SP)</span>` : ''}</td>
                            <td>${totalThirds}${totalSP3 ? ` <span class="stakes-indicator">(${totalSP3}SP)</span>` : ''}</td>
                            <td>$${totalEarned.toLocaleString()}</td>
                        </tr>
                    </tbody>
                </table>
            `;
        } else {
            // Fall back to simple format if no detailed history
            bodyHtml += `
                <div class="pedigree-table">
                    ${horse.racingRecord ? `
                    <div class="pedigree-item">
                        <div class="pedigree-label">Starts</div>
                        <div class="pedigree-value">${horse.racingRecord.starts}</div>
                    </div>
                    <div class="pedigree-item">
                        <div class="pedigree-label">Record</div>
                        <div class="pedigree-value">${horse.racingRecord.wins}-${horse.racingRecord.places}-${horse.racingRecord.shows}</div>
                    </div>
                    ` : ''}
                    <div class="pedigree-item">
                        <div class="pedigree-label">Career Earnings</div>
                        <div class="pedigree-value" style="color: var(--gold);">$${horse.earnings.toLocaleString()}</div>
                    </div>
                </div>
            `;
        }

        bodyHtml += `</div>`;
    }

    // Breeding info for broodmares
    if (type === 'broodmare') {
        // Farm URL lookup
        const farmUrls = {
            "Spendthrift": "https://www.spendthriftfarm.com/",
            "WinStar": "https://www.winstarfarm.com/",
            "Lane's End": "https://lanesend.com/",
            "Coolmore": "https://coolmore.com/farms/america",
            "Ashford Stud": "https://coolmore.com/farms/america",
            "Mill Ridge": "https://www.millridge.com/",
            "Taylor Made": "https://www.taylormadestallions.com/",
            "Hill N' Dale": "https://www.hillndalefarms.com/",
            "Hill 'n' Dale": "https://www.hillndalefarms.com/",
            "Darley": "https://www.darleyamerica.com/",
            "Airdrie": "https://www.airdriestud.com/"
        };

        const getFarmLink = (farmName) => {
            if (!farmName) return '';
            const url = farmUrls[farmName];
            return url
                ? `<a href="${url}" target="_blank" class="stallion-link">${farmName}</a>`
                : farmName;
        };

        const inFoalDisplay = horse.inFoalTo
            ? (horse.inFoalToLink ? `<a href="${horse.inFoalToLink}" target="_blank" class="stallion-link">${horse.inFoalTo}</a>` : horse.inFoalTo)
            : 'Open';
        const nextMatingDisplay = horse.nextMating
            ? (horse.nextMatingLink ? `<a href="${horse.nextMatingLink}" target="_blank" class="stallion-link">${horse.nextMating}</a>` : horse.nextMating)
            : 'TBD';

        bodyHtml += `
            <div class="modal-section">
                <h4 class="modal-section-title">Breeding Program</h4>
                <div class="breeding-info">
                    <div class="breeding-card">
                        <h5>Currently In Foal To</h5>
                        <div class="stallion">${inFoalDisplay}</div>
                        ${horse.inFoalFarm ? `<div class="farm">${getFarmLink(horse.inFoalFarm)}</div>` : ''}
                    </div>
                    <div class="breeding-card">
                        <h5>Next Scheduled Mating</h5>
                        <div class="stallion">${nextMatingDisplay}</div>
                        ${horse.nextMatingFarm ? `<div class="farm">${getFarmLink(horse.nextMatingFarm)}</div>` : ''}
                    </div>
                </div>
            </div>
        `;
    }

    // Details section
    bodyHtml += `
        <div class="modal-section">
            <h4 class="modal-section-title">Details</h4>
            <div class="pedigree-table">
                <div class="pedigree-item">
                    <div class="pedigree-label">Date of Birth</div>
                    <div class="pedigree-value">${horse.birthdate}</div>
                </div>
                ${horse.trainer ? `
                <div class="pedigree-item">
                    <div class="pedigree-label">Trainer</div>
                    <div class="pedigree-value">${horse.trainer}</div>
                </div>
                ` : ''}
            </div>
        </div>
    `;

    // Gallery section (if horse has gallery images)
    if (horse.gallery && horse.gallery.length > 0) {
        bodyHtml += `
            <div class="modal-section">
                <h4 class="modal-section-title">Gallery</h4>
                <div class="photo-gallery">
                    ${horse.gallery.map(img => `
                        <div class="gallery-thumb" onclick="openLightbox('${img}', window.currentHorseGallery)">
                            <img src="${img}" alt="${horse.name}">
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    }

    // News section
    bodyHtml += `
        <div class="modal-section">
            <h4 class="modal-section-title">In The News</h4>
            <div class="news-list">
                ${horse.news && horse.news.length > 0
                    ? horse.news.map(item => `
                        <div class="news-item">
                            <a href="${item.url}" target="_blank">${item.title}</a>
                            <span class="news-date">${item.date}</span>
                        </div>
                    `).join('')
                    : '<p class="empty-news">No news articles yet. Check back for updates!</p>'
                }
            </div>
        </div>
    `;

    document.getElementById('modal-body').innerHTML = bodyHtml;
    document.getElementById('modal').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    document.getElementById('modal').classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Image gallery navigation functions
function changeImage(direction) {
    if (!window.totalImages) return;
    window.currentImageIndex = (window.currentImageIndex + direction + window.totalImages) % window.totalImages;
    updateGallery();
}

function goToImage(index) {
    window.currentImageIndex = index;
    updateGallery();
}

function updateGallery() {
    const gallery = document.querySelector('.image-gallery');
    if (!gallery) return;

    const images = gallery.querySelectorAll('img');
    const dots = gallery.querySelectorAll('.gallery-dot');

    images.forEach((img, idx) => {
        img.classList.toggle('active', idx === window.currentImageIndex);
    });

    dots.forEach((dot, idx) => {
        dot.classList.toggle('active', idx === window.currentImageIndex);
    });
}

// Lightbox functions
let currentGallery = [];
let currentImageIndex = 0;

function openLightbox(imgSrc, gallery) {
    currentGallery = gallery || [imgSrc];
    currentImageIndex = currentGallery.indexOf(imgSrc);
    if (currentImageIndex === -1) currentImageIndex = 0;

    updateLightboxImage();
    document.getElementById('lightbox').classList.add('active');
}

function updateLightboxImage() {
    document.getElementById('lightbox-img').src = currentGallery[currentImageIndex];
    document.getElementById('lightbox-counter').textContent = `${currentImageIndex + 1} / ${currentGallery.length}`;

    // Hide/show nav arrows based on gallery size
    document.querySelector('.lightbox-prev').style.display = currentGallery.length > 1 ? 'block' : 'none';
    document.querySelector('.lightbox-next').style.display = currentGallery.length > 1 ? 'block' : 'none';
    document.getElementById('lightbox-counter').style.display = currentGallery.length > 1 ? 'block' : 'none';
}

function navigateLightbox(event, direction) {
    event.stopPropagation();
    currentImageIndex += direction;

    // Loop around
    if (currentImageIndex >= currentGallery.length) currentImageIndex = 0;
    if (currentImageIndex < 0) currentImageIndex = currentGallery.length - 1;

    updateLightboxImage();
}

function closeLightbox(event) {
    if (event) event.stopPropagation();
    document.getElementById('lightbox').classList.remove('active');
}

// Close modal on escape key, arrow keys for lightbox navigation
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeLightbox();
        closeModal();
    }
    if (document.getElementById('lightbox').classList.contains('active')) {
        if (e.key === 'ArrowRight') navigateLightbox(e, 1);
        if (e.key === 'ArrowLeft') navigateLightbox(e, -1);
    }
});

// Close modal on overlay click
document.getElementById('modal').addEventListener('click', (e) => {
    if (e.target.id === 'modal') closeModal();
});

// Render all sections
document.getElementById('racing-grid').innerHTML = racingHorses.map(createRacingCard).join('');
document.getElementById('broodmare-grid').innerHTML = broodmares.map(createBroodmareCard).join('');
document.getElementById('foal-grid').innerHTML = foals.map(createFoalCard).join('');

// Update stats
document.getElementById('stat-racing').textContent = racingHorses.length;
document.getElementById('stat-broodmares').textContent = broodmares.length;
document.getElementById('stat-foals').textContent = foals.length;
document.getElementById('count-racing').textContent = racingHorses.length;
document.getElementById('count-broodmares').textContent = broodmares.length;
document.getElementById('count-foals').textContent = foals.length;
</script>

</body>
</html>
